{"version":3,"file":"form-parser.js","sources":["../../../src/custom/diagram/form-parser.js"],"names":["FormParser","filePath","initPrototypes","String","prototype","startsWith","searchString","position","this","indexOf","loadFile","filepath","$","ajax","url","success","result","isOk","alert","message","json","async","setBehavior","document","ready","each","showHideOptionalForms","change","formToJSON","setParams","params","attrs","i","length","attr","isDirectChild","name","isParametrized","value","findSubforms","split","subAttrs","prefix","newName","substring","push","attrNames","getValue","parametrized","hasClass","JSON","stringify","input","is","val","node","selected","find","directOptionalForms","parent","css","getForm","forms","label","formElements","arrayOrEmpty","elements","comonElements","concat","parseFormElement","setValues","values","doSetValues","key","hasOwnProperty","newPrefix","setValue","id","isSelect","selector","elem","prop","array","undefined","element","formElement","type","parseSelect","parseIntegerField","parseTextField","parseFloatField","parseBooleanField","select","options","option","parseSubform","parentName","subform","form","elementName"],"mappings":"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"}